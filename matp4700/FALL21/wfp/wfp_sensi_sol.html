<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="wfp_sensi_sol.tex"> 
<meta name="date" content="2021-11-21 20:00:00"> 
<link rel="stylesheet" type="text/css" href="wfp_sensi_sol.css"> 
</head><body 
>
<div class="center" 
>
<!--l. 35--><p class="noindent" >
<!--l. 37--><p class="noindent" ><span class="underline"><span 
class="cmbx-12x-x-120">Sensitivity Analysis for Case Study:</span></span>
<!--l. 41--><p class="noindent" ><span class="underline"><span 
class="cmcsc-10x-x-144">W<span 
class="small-caps">o</span><span 
class="small-caps">r</span><span 
class="small-caps">l</span><span 
class="small-caps">d</span> F<span 
class="small-caps">o</span><span 
class="small-caps">o</span><span 
class="small-caps">d</span> P<span 
class="small-caps">r</span><span 
class="small-caps">o</span><span 
class="small-caps">g</span><span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">m</span></span></span> </div>
<div class="center" 
>
<!--l. 45--><p class="noindent" >
<!--l. 47--><p class="noindent" ><a 
href="http://www.rpi.edu/~mitchj/matp4700" ><span 
class="cmr-12">MATP4700 Math Models of Operations Research</span></a>
<!--l. 49--><p class="noindent" ><span 
class="cmr-12">Fall 2021</span>
<!--l. 51--><p class="noindent" ><span 
class="cmbx-12">Solutions</span>
</div>
<!--l. 56--><p class="noindent" ><span 
class="cmti-10x-x-109">Students may work in groups of up to three people. You can change groups from Part 1 if you want. You</span>
<span 
class="cmti-10x-x-109">may consult your textbooks, your notes, online information, the TA, and me. You may not solicit help</span>
<span 
class="cmti-10x-x-109">from other sources.</span>
<!--l. 65--><p class="indent" >   Due: <span 
class="cmbx-10x-x-109">Tuesday November</span><span 
class="cmbx-10x-x-109">&#x00A0;16, 2021. </span>(30 points. Questions 1&#8211;2 are worth 3 points each; Questions
3&#8211;8 are worth 4 points each.)
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 70--><p class="noindent" >The solution found in <a 
href="http://www.rpi.edu/~mitchj/matp4700/wfp/wfp.html" >Part 1</a> depends on the precise values of various parameters. Use sensitivity analysis
to answer the following questions. Include printouts of relevant parts of your AMPL output. Assume that
each part is independent of the others. Procedures for obtaining shadow prices and other relevant
information are given below.
<!--l. 85--><p class="indent" >   If you prefer to use them, my <a 
href="http://www.rpi.edu/~mitchj/matp4700/wfp/wfp.mod" >model file</a> is available on LMS and the course website. The solution to
the LP relaxation has value 0.9547767264. If your model returns a different value or the first 6 significant
digits, or if your model is nonlinear, you need to either modify your model so it does give this value, or use
my model.
<!--l. 106--><p class="indent" >   Notes: (1) You may want to solve a modified problem to check your answer for Questions 1&#8211;4, or to try
to determine where to look for sensitivity information. That is OK, but I don&#8217;t want to see those results!
You must give me the information using only sensitivity analysis. (2) AMPL might give a dual variable or
reduced cost of the opposite sign from what you expect. That&#8217;s OK, you can just use the sign you&#8217;d
expect.
<!--l. 121--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-20002"></a>Questions</h3>
<!--l. 122--><p class="noindent" >
                                                                                         
                                                                                         
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-2002x1"><a 
 id="x1-20011"></a> If the amount <span 
class="cmcsc-10x-x-109">W<span 
class="small-caps">o</span><span 
class="small-caps">r</span><span 
class="small-caps">l</span><span 
class="small-caps">d</span> F<span 
class="small-caps">o</span><span 
class="small-caps">o</span><span 
class="small-caps">d</span> P<span 
class="small-caps">r</span><span 
class="small-caps">o</span><span 
class="small-caps">g</span><span 
class="small-caps">r</span><span 
class="small-caps">a</span><span 
class="small-caps">m</span> </span>is willing to spend per day increases to $29,000,
     estimate the change in objective function value.
     <!--l. 127--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 129--><p class="noindent" >The shadow price for the constraint <span 
class="cmtt-10x-x-109">obeycostUB </span>is 2<span 
class="cmmi-10x-x-109">.</span>1938<span 
class="cmmi-10x-x-109">e </span><span 
class="cmsy-10x-x-109">- </span>05:
     <!--l. 131--><p class="noindent" ><img 
src="q1.png" alt="PIC"  
>
     <!--l. 133--><p class="noindent" >So the estimate in the change in NVS for an increase of $1,000 in spending is 2<span 
class="cmmi-10x-x-109">.</span>1938<span 
class="cmmi-10x-x-109">e </span><span 
class="cmsy-10x-x-109">- </span>02.
     </li>
     <li 
  class="enumerate" id="x1-2004x2"><a 
 id="x1-20032"></a> Use sensitivity analysis to estimate the change in the objective function value if the value of
     <span 
class="cmtt-10x-x-109">capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;] </span>is increased to&#x00A0;2<span 
class="cmmi-10x-x-109">.</span>1. What about if we increased the parameter
     <span 
class="cmtt-10x-x-109">capmarket[&#8217;Dara&#8217;,&#8217;Oil&#8217;] </span>to&#x00A0;2<span 
class="cmmi-10x-x-109">.</span>1?
     <!--l. 143--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 145--><p class="noindent" >The nonzero shadow prices for the constraint <span 
class="cmtt-10x-x-109">capacity </span>are as follows:
     <!--l. 147--><p class="noindent" ><img 
src="q2.png" alt="PIC"  
>
     <!--l. 149--><p class="noindent" >So the estimate in the change in NVS for an increase of 0.1 in the availability of milk at Dara
     is 0.000102615.
     <!--l. 152--><p class="noindent" >The shadow price for oil at Dara is 0, so the estimate for the change in the objective value is
     also&#x00A0;0. Note that the constraint is not tight and has a positive slack:
     <!--l. 156--><p class="noindent" ><img 
src="q2b.png" alt="PIC"  
>
     </li>
     <li 
  class="enumerate" id="x1-2006x3"><a 
 id="x1-20053"></a> In the current solution, <span 
class="cmtt-10x-x-109">Vitamin C </span>consumption is at its lower bound in <span 
class="cmtt-10x-x-109">Hassakeh</span>. One way to try
     to encourage the consumption of <span 
class="cmtt-10x-x-109">Vitamin C </span>in <span 
class="cmtt-10x-x-109">Hassakeh </span>would be to modify the objective function
     to maximize
     <center class="math-display" >
     <img 
src="wfp_sensi_sol0x.png" alt="            (                                )
            { 1     &#x2211;         {   suppliedi,j} }
NV S =  min ( 12-         min   1,--reqr---- )  - &#x03B1;shortfall[&#8217;VitaminC &#8217;,&#8217;Hassakeh &#8217;]
                nutrients j             j
     " class="math-display" ></center>
     <!--l. 166--><p class="nopar" >
     <!--l. 168--><p class="noindent" >From looking at reduced costs, determine how large <span 
class="cmmi-10x-x-109">&#x03B1; </span>has to be to encourage the consumption of
     <span 
class="cmtt-10x-x-109">Vitamin C </span>in <span 
class="cmtt-10x-x-109">Hassakeh</span>.
     <!--l. 171--><p class="noindent" >(Note: If you use a constraint to limit the shortfall instead of explicitly defining a variable, then you
     should be able to use the dual variable for that constraint. You may need to scale the dual variable,
     depending on the exact structure.)
     <!--l. 180--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 182--><p class="noindent" >The reduced costs for the <span 
class="cmtt-10x-x-109">shortfall </span>variables are as follows:
                                                                                         
                                                                                         
     <!--l. 184--><p class="noindent" ><img 
src="q3.png" alt="PIC"  
>
     <!--l. 186--><p class="noindent" >shortfall[&#8217;VitaminC&#8217;,&#8217;Hassakeh&#8217;] is at its upper bound, with a positive reduced cost in a
     maximization problem. If we change the reduced cost to be negative then more of this nutrient may
     be consumed. Changing the contribution to the original objective by an amount&#x00A0;<span 
class="cmmi-10x-x-109">&#x03B1; </span>also changes the
     reduced cost by&#x00A0;<span 
class="cmmi-10x-x-109">&#x03B1;</span>, so we choose <span 
class="cmmi-10x-x-109">&#x03B1; </span>= 0<span 
class="cmmi-10x-x-109">.</span>00846424.
     </li>
     <li 
  class="enumerate" id="x1-2008x4"><a 
 id="x1-20074"></a> How far must the cost of milk at the <span 
class="cmtt-10x-x-109">SOURCES </span>decrease before it becomes attractive to buy it?
     (Hint: You are considering a change in an entry in the constraint matrix, so you have to
     look at both shadow prices and reduced costs. You may find it helpful to consider the
     identity
     <center class="math-display" >
     <img 
src="wfp_sensi_sol1x.png" alt="                       (    )
bTy = xTAT y = yTAx  =  AT y T x = cT x
     " class="math-display" ></center>
     <!--l. 201--><p class="nopar" >
     which is satisfied by optimal solutions to the standard primal-dual pair. Recall also that the reduced
     costs are equal to the dual slacks.)
     <!--l. 205--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 207--><p class="noindent" >The reduced costs for the <span 
class="cmtt-10x-x-109">purchasecost </span>variables are as follows:
     <!--l. 209--><p class="noindent" ><img 
src="q4.png" alt="PIC"  
>
     <!--l. 211--><p class="noindent" >shortfall[&#8217;Milk&#8217;,&#8217;Amman&#8217;] has the least negative bound, so it requires the smallest change in its
     reduced cost to become attractive, by changing the sign of the reduced cost.
     <!--l. 215--><p class="noindent" >The reduced cost is equal to the dual slack. Symbolically, we have
     <center class="math-display" >
     <img 
src="wfp_sensi_sol2x.png" alt="¯c = w = c-  ATy
     " class="math-display" ></center>
     <!--l. 218--><p class="nopar" >
     We cannot directly change the reduced cost, since it corresponds to the contribution to the NVS of
     the shortfall. What we can change are the entries in <span 
class="cmmi-10x-x-109">A </span>corresponding to the purchase cost of
     milk.
     <!--l. 224--><p class="noindent" >The parameter <span 
class="cmtt-10x-x-109">purchasecost[&#8217;Milk&#8217;] </span>appears in 3 constraints, only one of which is
     tight:
     <!--l. 227--><p class="noindent" ><img 
src="q4b.png" alt="PIC"  
>
     <!--l. 229--><p class="noindent" >So changing the value of this parameter by <span 
class="cmmi-10x-x-109">&#x03B2; </span>will change the reduced cost by <span 
class="cmmi-10x-x-109">&#x03B2; </span>multiplied by the
     shadow price for the <span 
class="cmtt-10x-x-109">findcost </span>constraint, given below:
     <!--l. 233--><p class="noindent" ><img 
src="q4c.png" alt="PIC"  
>
     <!--l. 235--><p class="noindent" >Hence we need to decrease the <span 
class="cmtt-10x-x-109">purchasecost </span>by
                                                                                         
                                                                                         
     <center class="math-display" >
     <img 
src="wfp_sensi_sol3x.png" alt="&#x03B2; = --0.0202305---=  2023.05-&#x2248;  $922.167.
    2.1938 &#x00D7; 10- 5   2.1938
     " class="math-display" ></center>
     <!--l. 239--><p class="nopar" >
     So the purchase cost needs to drop to approximately $277.833.
     </li>
     <li 
  class="enumerate" id="x1-2010x5">Use the command <span 
class="cmtt-10x-x-109">let costUB:=29000; </span>and solve. Is the change in objective function value larger
     or smaller than your prediction in Question&#x00A0;<a 
href="#x1-20011">1<!--tex4ht:ref: monitorchange --></a>? Why? How does the optimal value change
     if you use <span 
class="cmtt-10x-x-109">let costUB:=28100;</span>, compared to 10% of your prediction in Question&#x00A0;<a 
href="#x1-20011">1<!--tex4ht:ref: monitorchange --></a>?
     Why?
     <!--l. 249--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 251--><p class="noindent" >In both cases, the value is smaller than predicted in Question&#x00A0;<a 
href="#x1-20011">1<!--tex4ht:ref: monitorchange --></a> because the basis must have
     changed. The prediction is closer in the $28,100 case than the $29,000 case. For details, see the
     screengrab below.
     <!--l. 256--><p class="noindent" >It can be checked that the prediction would have been accurate for a budget of $28,001, but would
     already have been slightly too high for a budget of $28,010.
     <!--l. 260--><p class="noindent" ><img 
src="q5.png" alt="PIC"  
>
     </li>
     <li 
  class="enumerate" id="x1-2012x6">Use the command <span 
class="cmtt-10x-x-109">let capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;]=2.1; </span>and solve. Is the change in objective
     function value larger or smaller than your prediction in Question&#x00A0;<a 
href="#x1-20032">2<!--tex4ht:ref: balance --></a>? Why?
     <!--l. 267--><p class="noindent" >Now use the command <span 
class="cmtt-10x-x-109">let capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;]:=3; </span>and solve. Is the change in objective
     function value larger or smaller than 10 times your predicted change in Question&#x00A0;<a 
href="#x1-20032">2<!--tex4ht:ref: balance --></a>?
     Why?
     <!--l. 271--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 273--><p class="noindent" >With <span 
class="cmtt-10x-x-109">let capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;]=2.1;</span>, we get agreement with Question&#x00A0;<a 
href="#x1-20032">2<!--tex4ht:ref: balance --></a>, because the basis
     has not changed. With <span 
class="cmtt-10x-x-109">let capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;]=3;</span>, the increase is smaller than predicted,
     due to the basis changing: one of the basic variables must have been driven to its bounds.. For
     details, see the screengrab below.
     <!--l. 281--><p class="noindent" ><img 
src="q6.png" alt="PIC"  
>
     <!--l. 283--><p class="noindent" >With the original data, sensitivity analysis tells us that once <span 
class="cmtt-10x-x-109">capmarket[&#8217;Dara&#8217;,&#8217;Milk&#8217;] </span>increases
     above about 2.175, the basis changes:
     <!--l. 286--><p class="noindent" ><img 
src="q6b.png" alt="PIC"  
>
     </li>
     <li 
  class="enumerate" id="x1-2014x7">Modify <span 
class="cmtt-10x-x-109">purchasecost[&#8217;Milk&#8217;] </span>to confirm your answer to Question&#x00A0;<a 
href="#x1-20074">4<!--tex4ht:ref: milk --></a>. You should choose 2 values
     of the parameter that are within 1% of each other, one for which <span 
class="cmtt-10x-x-109">Milk </span>is purchased, and one for
     which it is not.
     <!--l. 293--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
                                                                                         
                                                                                         
     <!--l. 295--><p class="noindent" >We see from the screengrab below that no milk is purchased if we <span 
class="cmtt-10x-x-109">let purchasecost[&#8217;Milk&#8217;]:=278</span>,
     but it is purchased at Amman if we <span 
class="cmtt-10x-x-109">let purchasecost[&#8217;Milk&#8217;]:=277</span>
     <!--l. 299--><p class="noindent" ><img 
src="q7.png" alt="PIC"  
>
     </li>
     <li 
  class="enumerate" id="x1-2016x8">Modify the objective function in the model file to confirm your answer to Question&#x00A0;<a 
href="#x1-20053">3<!--tex4ht:ref: vitC --></a>. You should
     choose 2 values of the parameter that are within 1% of each other, one for which the shortfall of
     <span 
class="cmtt-10x-x-109">VitaminC </span>is 25% and one for which it is less.
     <!--l. 306--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
     <!--l. 308--><p class="noindent" >We introduce 2 parameters into the model file to capture possible modifications to the
     objective:
                                                                                         
                                                                                         
     <div class="verbatim" id="verbatim-1">
     param&#x00A0;NVSfs{FOODS,SOURCES}&#x00A0;default&#x00A0;0;&#x00A0;&#x00A0;#&#x00A0;&#x00A0;foodsourced
     &#x00A0;<br />param&#x00A0;NVSsf{NUTRIENTS,DEMANDPOINTS}&#x00A0;default&#x00A0;0;&#x00A0;&#x00A0;#shortfall
</div>
     <!--l. 314--><p class="nopar" >
     <!--l. 316--><p class="noindent" >Note that we choose default values of 0, so we don&#8217;t need to modify the data file. Instead,
     we can use <span 
class="cmtt-10x-x-109">let </span>commands to selectively choose values for a small number of the extra
     parameters.
     <!--l. 320--><p class="noindent" >We also modify the objective function:
                                                                                         
                                                                                         
     <div class="verbatim" id="verbatim-2">
     maximize&#x00A0;objective:
     &#x00A0;<br />NVSworst&#x00A0;-&#x00A0;sum{f&#x00A0;in&#x00A0;FOODS,s&#x00A0;in&#x00A0;SOURCES}&#x00A0;NVSfs[f,s]*foodsourced[f,s]
     &#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-&#x00A0;sum{n&#x00A0;in&#x00A0;NUTRIENTS,&#x00A0;d&#x00A0;in&#x00A0;DEMANDPOINTS}&#x00A0;NVSsf[n,d]*shortfall[n,d];
</div>
     <!--l. 326--><p class="nopar" >
     <!--l. 328--><p class="noindent" >The parameter <span 
class="cmmi-10x-x-109">&#x03B1; </span>in Question&#x00A0;<a 
href="#x1-20053">3<!--tex4ht:ref: vitC --></a> is equal to <span 
class="cmtt-10x-x-109">NVSsf[&#8217;VitaminC&#8217;,&#8217;Hassakeh&#8217;]</span>. We see in the
     screengrab below that setting <span 
class="cmmi-10x-x-109">&#x03B1; </span>= 0<span 
class="cmmi-10x-x-109">.</span>00846 still results in a shortfall of 0.25, but choosing the slightly
     larger value of <span 
class="cmmi-10x-x-109">&#x03B1; </span>= 0<span 
class="cmmi-10x-x-109">.</span>00847 leads to a slightly smaller shortfall.
     <!--l. 335--><p class="noindent" ><img 
src="q8.png" alt="PIC"  
>
     <!--l. 337--><p class="noindent" >Note that the objective function value changes in both cases. In both cases, the change is <span 
class="cmmi-10x-x-109">&#x03B1; </span><span 
class="cmsy-10x-x-109">&#x00D7; </span>0<span 
class="cmmi-10x-x-109">.</span>25,
     see the screengrab below. (In the second case, it is very slightly smaller, but this may be roundoff
     error.)
     <!--l. 342--><p class="noindent" ><img 
src="q8b.png" alt="PIC"  
>
     </li></ol>
   <div class="tabular"> <table id="TBL-1" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-1-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          <a 
href="http://www.rpi.edu/~mitchj" >John Mitchell</a>                                             </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-2-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; Amos Eaton 325</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-3-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          x6915.                                                        </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-4-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; <a 
href="mailto:mitchj@rpi.edu" >mitchj at rpi dot edu</a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-5-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          Monday 1&#8211;2pm, Thursday, 2pm&#8211;3pm, webex:     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-6-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          <a 
href="https://rensselaer.webex.com/meet/mitchj" class="url" ><span 
class="cmtt-10x-x-109">https://rensselaer.webex.com/meet/mitchj</span></a> </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-7-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;                                                                          </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-8-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; <span class="underline"><span 
class="cmbx-10x-x-109">TA:</span></span> She&#8217;ifa Punla-Green, punlas at rpi dot edu.</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-9-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          Office hours Tuesday 10&#8211;11.30am on webex:       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-10-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          <a 
href="https://rensselaer.webex.com/meet/punlas" class="url" ><span 
class="cmtt-10x-x-109">https://rensselaer.webex.com/meet/punlas</span></a> </td> </tr></table>
</div>
    
</body></html> 

                                                                                         


