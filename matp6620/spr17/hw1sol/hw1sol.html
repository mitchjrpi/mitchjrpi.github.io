<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="hw1sol.tex"> 
<meta name="date" content="2017-01-29 19:30:00"> 
<link rel="stylesheet" type="text/css" href="hw1sol.css"> 
</head><body 
>
<div class="center" 
>
<!--l. 22--><p class="noindent" >
<!--l. 25--><p class="noindent" ><a 
href="http://www.rpi.edu/~mitchj/matp6620" ><span 
class="cmbx-10x-x-109">MATP6620/ISYE6760 Combinatorial Optimization &amp; Integer Programming</span></a><br />
<span 
class="cmbx-10x-x-109">Homework 1 Solutions </span></div>
                                                                                         <div class="flushright" 
>
<!--l. 31--><p class="noindent" >
 Due: Friday, January 27, 2017.<br />
Penalty for late homeworks: 10% for each day or part of a day.</div>
<!--l. 36--><p class="noindent" >Questions <a 
href="#x1-21">1<!--tex4ht:ref: q.knapsackfirst --></a>&#8211;<a 
href="#x1-165">5<!--tex4ht:ref: q.knapsacklast --></a> of this homework are concerned with a knapsack problem with 20 objects,
   <center class="math-display" >
<img 
src="hw1sol0x.png" alt="            &#x2211;20
max           j=1 cjxj
subject to  &#x2211;20j=1 ajxj  &#x2264;  b

                   xj     binary j = 1,...,20.
" class="math-display" ></center>
<!--l. 44--><p class="nopar" >
A link to the data can be found in question 1 of the online version of this homework. In your initial
formulation use variables <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">j</span></sub> to indicate whether object <span 
class="cmmi-10x-x-109">j </span>is used.
<!--l. 99--><p class="indent" >   You will solve this problem using AMPL and CPLEX. The packages are available on LMS. More on
these packages can be found at <a 
href="http://www.rpi.edu/~mitchj/ampldetails.html" class="url" ><span 
class="cmtt-10x-x-109">http://www.rpi.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">mitchj/ampldetails.html</span></a>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-3x1"><a 
 id="x1-21"></a> Solve the LP relaxation of the problem, so each <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">e</span></sub> satisfies 0 <span 
class="cmsy-10x-x-109">&#x2264; </span><span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">e</span></sub> <span 
class="cmsy-10x-x-109">&#x2264; </span>1. Show that this does
     not give an optimal solution to the knapsack problem. The LP relaxation <a 
href="knapsack.mod" >model</a> and <a 
href="knapsack20.dat" >data</a>
     files are available online (and also on the back of this sheet).
     <!--l. 122--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution: </span>Optimal solution to the relaxation is fractional:
     <center class="math-display" >
     <img 
src="hw1sol1x.png" alt="optimal value = 4210-,  x =  x  = 1,x   = -9-,  other x =  0.
                  13     1    20      13   13          i
     " class="math-display" ></center>
     <!--l. 127--><p class="nopar" >
     </li>
     <li 
  class="enumerate" id="x1-5x2">Show that there exists a feasible binary solution with value 35.
     <!--l. 131--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution: </span>Taking <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">9</span></sub> = <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">20</span></sub> = 1, other <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">i</span></sub> = 0 is feasible with value&#x00A0;35.
                                                                                         
                                                                                         
     </li>
     <li 
  class="enumerate" id="x1-7x3">Improve the LP relaxation by adding in selected cover constraints
     <center class="math-display" >
     <img 
src="hw1sol2x.png" alt="&#x2211;
   xi &#x2264; |C |- 1
i&#x2208;C
     " class="math-display" ></center>
     <!--l. 138--><p class="nopar" >
     for subsets <span 
class="cmmi-10x-x-109">C </span><span 
class="cmsy-10x-x-109">&#x2286;{</span>1<span 
class="cmmi-10x-x-109">,</span><span 
class="cmmi-10x-x-109">&#x2026;</span><span 
class="cmmi-10x-x-109">,</span>20<span 
class="cmsy-10x-x-109">}</span>, where <span 
class="cmex-10x-x-109">&#x2211;</span>
  <sub><span 
class="cmmi-8">j</span><span 
class="cmsy-8">&#x2208;</span><span 
class="cmmi-8">C</span></sub><span 
class="cmmi-10x-x-109">a</span><sub><span 
class="cmmi-8">j</span></sub> <span 
class="cmmi-10x-x-109">&#x003E; b</span>. The ampl code for cover constraints is included in the
     model file, along with one commented-out line in the data file.
     <!--l. 144--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution:</span>
          <ol  class="enumerate2" >
          <li 
  class="enumerate" id="x1-9x1">Add cover constraint for <span 
class="cmmi-10x-x-109">C </span>= <span 
class="cmsy-10x-x-109">{</span>1<span 
class="cmmi-10x-x-109">,</span>13<span 
class="cmmi-10x-x-109">,</span>20<span 
class="cmsy-10x-x-109">} </span>to cut off solution to LP relaxation. Get solution
          with value 41<img 
src="hw1sol3x.png" alt="1314-"  class="frac" align="middle"> and nonzero components <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub> = <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">20</span></sub> = 1<span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">4</span></sub> = <img 
src="hw1sol4x.png" alt="914"  class="frac" align="middle">.
          </li>
          <li 
  class="enumerate" id="x1-11x2">Add cover constraint for <span 
class="cmmi-10x-x-109">C </span>= <span 
class="cmsy-10x-x-109">{</span>1<span 
class="cmmi-10x-x-109">,</span>4<span 
class="cmmi-10x-x-109">,</span>20<span 
class="cmsy-10x-x-109">} </span>to cut off solution to strengthened LP relaxation.
          Get solution with value 41<img 
src="hw1sol5x.png" alt="11
16"  class="frac" align="middle"> and nonzero components <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub> = <img 
src="hw1sol6x.png" alt="-7
16"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">4</span></sub> = <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">13</span></sub> = <img 
src="hw1sol7x.png" alt="9-
16"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">20</span></sub> = 1.
          </li>
          <li 
  class="enumerate" id="x1-13x3">Add cover constraint for <span 
class="cmmi-10x-x-109">C </span>= <span 
class="cmsy-10x-x-109">{</span>4<span 
class="cmmi-10x-x-109">,</span>13<span 
class="cmmi-10x-x-109">,</span>20<span 
class="cmsy-10x-x-109">} </span>to cut off solution to strengthened LP relaxation.
          Get solution with value 41<img 
src="hw1sol8x.png" alt="15
22"  class="frac" align="middle">  and nonzero components <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub>  =  <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">4</span></sub>  =  <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">13</span></sub>  =  <img 
src="hw1sol9x.png" alt="1
2"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">11</span></sub>  =
          <img 
src="hw1sol10x.png" alt="-1
11"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">20</span></sub> = 1. This solution does not violate any cover constraints.</li></ol>
     </li>
     <li 
  class="enumerate" id="x1-15x4">Show that adding in all covers of cardinality 3 does not give an optimal solution to the knapsack
     problem. Hint: AMPL syntax allows constraints of the form
          <div class="quote">
          <!--l. 164--><p class="noindent" ><span 
class="cmtt-10x-x-109">subject to cover3</span><span 
class="cmsy-10x-x-109">{</span><span 
class="cmtt-10x-x-109">i in 1..n-2, j in i+1..n-1, k in j+1..n</span><span 
class="cmsy-10x-x-109">}</span><span 
class="cmtt-10x-x-109">: </span><br 
class="newline" />        <span 
class="cmtt-10x-x-109">x[i] + x[j] + x[k] </span><span 
class="cmmi-10x-x-109">&#x003C;</span>=  <span 
class="cmtt-10x-x-109">2; </span></div>
     <!--l. 170--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution: </span>The solution is still <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub> = <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">4</span></sub> = <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">13</span></sub> = <img 
src="hw1sol11x.png" alt="1
2"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">11</span></sub> = <img 
src="hw1sol12x.png" alt=" 1
11"  class="frac" align="middle"><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">20</span></sub> = 1 with value 41<img 
src="hw1sol13x.png" alt="15
22"  class="frac" align="middle">.
     </li>
     <li 
  class="enumerate" id="x1-17x5"><a 
 id="x1-165"></a> Can you strengthen the cover inequalities to give a value of the relaxation that is closer to
     35?
     <!--l. 179--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution: </span>We can <span 
class="cmti-10x-x-109">lift </span>cover constraints: given a cover constraint
     <center class="math-display" >
     <img 
src="hw1sol14x.png" alt="xj + xk + xl &#x2264; 2,
     " class="math-display" ></center>
     <!--l. 185--><p class="nopar" >
     if another index satisfies <span 
class="cmmi-10x-x-109">a</span><sub><span 
class="cmmi-8">i</span></sub> <span 
class="cmsy-10x-x-109">&#x2265;</span> max<span 
class="cmsy-10x-x-109">{</span><span 
class="cmmi-10x-x-109">a</span><sub><span 
class="cmmi-8">j</span></sub><span 
class="cmmi-10x-x-109">,a</span><sub><span 
class="cmmi-8">k</span></sub><span 
class="cmmi-10x-x-109">,a</span><sub><span 
class="cmmi-8">l</span></sub><span 
class="cmsy-10x-x-109">} </span>then we can extend the inequality to
                                                                                         
                                                                                         
     <center class="math-display" >
     <img 
src="hw1sol15x.png" alt="xi + xj + xk + xl &#x2264; 2.
     " class="math-display" ></center>
     <!--l. 190--><p class="nopar" >
     This can be captured using the ampl command
                                                                                         
                                                                                         
     <div class="verbatim" id="verbatim-1">
     subject&#x00A0;to&#x00A0;cover3lifted{j&#x00A0;in&#x00A0;1..n-2,&#x00A0;k&#x00A0;in&#x00A0;j+1..n-1,&#x00A0;l&#x00A0;in&#x00A0;k+1..n}:
     &#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;x[j]&#x00A0;+&#x00A0;x[k]&#x00A0;+&#x00A0;x[l]&#x00A0;+
     &#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;sum{i&#x00A0;in&#x00A0;1..n:&#x00A0;a[i]&#x00A0;&#x003E;=&#x00A0;max(a[j],a[k],a[l])&#x00A0;&amp;&amp;&#x00A0;i&#x00A0;!=&#x00A0;j&#x00A0;&amp;&amp;&#x00A0;i&#x00A0;!=&#x00A0;k&#x00A0;&amp;&amp;&#x00A0;i&#x00A0;!=&#x00A0;l}
     &#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;x[i]&#x00A0;&#x003C;=&#x00A0;2;
</div>
     <!--l. 197--><p class="nopar" > With the addition of this constraint, the solution has value 35<img 
src="hw1sol16x.png" alt="1
3"  class="frac" align="middle">, with three nonzero components,
     namely: <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">9</span></sub> = 1, <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">13</span></sub> = <img 
src="hw1sol17x.png" alt="1
3"  class="frac" align="middle">, <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">20</span></sub> = <img 
src="hw1sol18x.png" alt="2
3"  class="frac" align="middle">. This proves the solution given in question 2 is optimal, since the
     objective function coeffients are all integer.
     <!--l. 204--><p class="noindent" >The same solution can be found by adding the valid constraint <span 
class="cmex-10x-x-109">&#x2211;</span>
  <sub><span 
class="cmmi-8">i</span><span 
class="cmr-8">=1</span></sub><sup><span 
class="cmr-8">20</span></sup><span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">i</span></sub> <span 
class="cmsy-10x-x-109">&#x2264; </span>2. This constraint is
     valid because at most two of the binary <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">i</span></sub> can be positive.
     </li>
     <li 
  class="enumerate" id="x1-19x6">Model the following feasibility problem as an integer programming feasibility problem:
          <div class="quote">
          <!--l. 347--><p class="noindent" >Given a graph <span 
class="cmmi-10x-x-109">G </span>= (<span 
class="cmmi-10x-x-109">V,E</span>), does there exist a partition of the edges <span 
class="cmmi-10x-x-109">E </span>into two sets
          <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">1</span></sub> and <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">2</span></sub> such that neither <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">1</span></sub> nor <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">2</span></sub> contains a triangle?</div>
     <!--l. 351--><p class="noindent" >Can you find a feasible solution to the LP relaxation of your formulation?
     <!--l. 353--><p class="noindent" ><span 
class="cmbx-10x-x-109">Solution: </span>Introduce binary variables <span 
class="cmmi-10x-x-109">x </span><span 
class="cmsy-10x-x-109">&#x2208; </span><span 
class="msbm-10x-x-109">B</span><sup><span 
class="cmsy-8">|</span><span 
class="cmmi-8">E</span><span 
class="cmsy-8">|</span></sup> with
     <center class="math-display" >
     <img 
src="hw1sol19x.png" alt="     {
xe =   1  if e &#x2208; E1
       0  if e &#x2208; E2
     " class="math-display" ></center>
     <!--l. 360--><p class="nopar" >
     We can prevent triangles in <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">1</span></sub> or <span 
class="cmmi-10x-x-109">E</span><sub><span 
class="cmr-8">2</span></sub> with the constraints
     <center class="math-display" >
     <img 
src="hw1sol20x.png" alt="1 &#x2264; xe + xf + xg &#x2264; 2
     " class="math-display" ></center>
     <!--l. 364--><p class="nopar" >
     for all triangles <span 
class="cmsy-10x-x-109">{</span><span 
class="cmmi-10x-x-109">e,f,g</span><span 
class="cmsy-10x-x-109">}</span>.
     <!--l. 367--><p class="noindent" >Taking <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmmi-8">e</span></sub> = 0<span 
class="cmmi-10x-x-109">.</span>5 for all edges <span 
class="cmmi-10x-x-109">e </span><span 
class="cmsy-10x-x-109">&#x2208; </span><span 
class="cmmi-10x-x-109">E </span>gives a feasible solution to the LP relaxation.
     </li></ol>
   <div class="tabular"> <table id="TBL-1" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-1-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          <a 
href="http://www.rpi.edu/~mitchj" >John Mitchell</a>                                                      </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-2-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; Amos Eaton 325</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-3-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          x6915.                                                                </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-4-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; <a 
href="mailto:mitchj@rpi.edu" >mitchj at rpi dot edu</a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-5-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;          Office hours: Tuesdays 2&#8211;3pm, Wednesdays 11am&#8211;1pm.</td> </tr></table></div>
                                                                                         
                                                                                         
   <div class="verbatim" id="verbatim-2">
######################
&#x00A0;<br />###&#x00A0;model&#x00A0;file&#x00A0;for&#x00A0;knapsack&#x00A0;problem
&#x00A0;<br />######################
&#x00A0;<br />param&#x00A0;n&#x00A0;&#x003E;&#x00A0;0;
&#x00A0;<br />param&#x00A0;c{1..n}&#x00A0;&#x003E;=0&#x00A0;;
&#x00A0;<br />param&#x00A0;a{1..n}&#x00A0;&#x003E;=0&#x00A0;;
&#x00A0;<br />param&#x00A0;b&#x00A0;&#x003E;=0&#x00A0;;
&#x00A0;<br />param&#x00A0;ncuts&#x00A0;;
&#x00A0;<br />set&#x00A0;Cover{j&#x00A0;in&#x00A0;1..ncuts}&#x00A0;within&#x00A0;{1..n}&#x00A0;;
&#x00A0;<br />var&#x00A0;x{1..n}&#x00A0;&#x003E;=0,&#x00A0;&#x003C;=&#x00A0;1;
&#x00A0;<br />maximize&#x00A0;objective:&#x00A0;sum{i&#x00A0;in&#x00A0;1..n}&#x00A0;c[i]*x[i];
&#x00A0;<br />subject&#x00A0;to&#x00A0;capacity:&#x00A0;sum{i&#x00A0;in&#x00A0;1..n}&#x00A0;a[i]&#x00A0;*&#x00A0;x[i]&#x00A0;&#x003C;=&#x00A0;b;
&#x00A0;<br />subject&#x00A0;to&#x00A0;covercon{j&#x00A0;in&#x00A0;1..ncuts}:&#x00A0;sum{i&#x00A0;in&#x00A0;Cover[j]}&#x00A0;x[i]&#x00A0;&#x003C;=&#x00A0;card(Cover[j])-1;
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />######################
&#x00A0;<br />###&#x00A0;data&#x00A0;file&#x00A0;for&#x00A0;knapsack&#x00A0;problem
&#x00A0;<br />######################
&#x00A0;<br />param&#x00A0;n&#x00A0;:=&#x00A0;20;
&#x00A0;<br />param&#x00A0;:&#x00A0;c&#x00A0;a&#x00A0;:=
&#x00A0;<br />&#x00A0;1&#x00A0;15&#x00A0;11
&#x00A0;<br />&#x00A0;2&#x00A0;13&#x00A0;12
&#x00A0;<br />&#x00A0;3&#x00A0;14&#x00A0;13
&#x00A0;<br />&#x00A0;4&#x00A0;17&#x00A0;14
&#x00A0;<br />&#x00A0;5&#x00A0;17&#x00A0;15
&#x00A0;<br />&#x00A0;6&#x00A0;14&#x00A0;16
&#x00A0;<br />&#x00A0;7&#x00A0;16&#x00A0;17
&#x00A0;<br />&#x00A0;8&#x00A0;12&#x00A0;18
&#x00A0;<br />&#x00A0;9&#x00A0;19&#x00A0;19
&#x00A0;<br />10&#x00A0;10&#x00A0;10
&#x00A0;<br />11&#x00A0;13&#x00A0;11
&#x00A0;<br />12&#x00A0;14&#x00A0;12
&#x00A0;<br />13&#x00A0;17&#x00A0;13
&#x00A0;<br />14&#x00A0;16&#x00A0;14
&#x00A0;<br />15&#x00A0;13&#x00A0;15
&#x00A0;<br />16&#x00A0;14&#x00A0;16
&#x00A0;<br />17&#x00A0;12&#x00A0;17
&#x00A0;<br />18&#x00A0;18&#x00A0;18
&#x00A0;<br />19&#x00A0;15&#x00A0;19
&#x00A0;<br />20&#x00A0;16&#x00A0;10
&#x00A0;<br />;
&#x00A0;<br />param&#x00A0;b&#x00A0;:=&#x00A0;30;
                                                                                         
                                                                                         
&#x00A0;<br />param&#x00A0;ncuts&#x00A0;:=&#x00A0;0;
&#x00A0;<br />#set&#x00A0;Cover[1]&#x00A0;:=&#x00A0;1&#x00A0;13&#x00A0;20;
</div>
<!--l. 450--><p class="nopar" >
    
</body></html> 

                                                                                         


