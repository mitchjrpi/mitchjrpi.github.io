<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="hw5.tex"> 
<meta name="date" content="2022-03-31 20:49:00"> 
<link rel="stylesheet" type="text/css" href="hw5.css"> 
</head><body 
>
<div class="center" 
>
<!--l. 12--><p class="noindent" >
<!--l. 15--><p class="noindent" ><a 
href="http://www.rpi.edu/~mitchj/matp6640" ><span 
class="cmr-12x-x-120">MATP6640/DSES6770 Linear Programming</span></a><span 
class="cmr-12x-x-120">, Homework 5.</span>
</div>
                                                                                         <div class="flushright" 
>
<!--l. 19--><p class="noindent" >
 Due: 11.59pm on Friday, April 1, 2022 on LMS.<br />
10% penalty for each day late.</div>
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x1-3x1">Let a stochastic program have a finite set <span 
class="cmmi-12">S </span>of scenarios <span 
class="cmmi-12">&#x03BE;</span><sup><span 
class="cmmi-8">s</span></sup>, each with probability&#x00A0;<span 
class="cmmi-12">p</span><sub>
<span 
class="cmmi-8">s</span></sub>. Let the
      first stage decision variables be <span 
class="cmmi-12">x </span><span 
class="cmsy-10x-x-120">&#x2208; </span><span 
class="msbm-10x-x-120">&#x211D;</span><sub><span 
class="cmr-8">+</span></sub><sup><span 
class="cmmi-8">n</span></sup> and assume the problem has complete
      recourse for any first stage decision. Let 0 <span 
class="cmmi-12">&#x003C; &#x03B1; &#x003C; </span>1. For any feasible first stage
      decision&#x00A0;<span 
class="cmmi-12">x</span>, the Conditional Value at Risk <span 
class="cmmi-12">&#x03C1;</span>(<span 
class="cmmi-12">x</span>) can be calculated by solving the
      problem
      <center class="math-display" >
      <img 
src="hw50x.png" alt="                               1&#x2211;
&#x03C1;(x) :=   miny,&#x03B7;,v        &#x03B7;  +   &#x03B1;   s&#x2208;S psvs
         subject to W  ys  =  hs - T sx  &#x2200;s &#x2208; S
                    qT ys  &#x2264;  &#x03B7; + v      &#x2200;s &#x2208; S
                        s          s
                       y   &#x2265;  0          &#x2200;s &#x2208; S
      " class="math-display" ></center>
      <!--l. 64--><p class="nopar" >
      Prove that <span 
class="cmmi-12">&#x03C1;</span>(<span 
class="cmmi-12">x</span>) is a convex function of&#x00A0;<span 
class="cmmi-12">x</span>.
      </li>
      <li 
  class="enumerate" id="x1-5x2"><a 
 id="x1-42"></a> Assume we have a stochastic program with finite number of scenarios and complete recourse.
      A weighted combination of the standard stochastic program expectation objective with
      CVaR can be written
      <table 
class="equation"><tr><td><a 
 id="x1-6r1"></a>
      <center class="math-display" >
      <img 
src="hw51x.png" alt="                         &#x2211;                 (      &#x2211;      )
minx,v,&#x03B7;         cTx  +     s psQ(x, &#x03BE;s) + &#x03BC; &#x03B7; + 1&#x03B1;-  spsvs
subject to       Ax          =   b
            Q (x, &#x03BE;s) -    &#x03B7;  &#x2264;   v   &#x2200;s
                                  s
                         vs  &#x2265;   0  &#x2200;s
                  x          &#x2265;   0
      " class="math-display" ></center></td><td class="equation-label">(1)</td></tr></table>
      <!--l. 81--><p class="nopar" >
      Here, we&#8217;ve weighted the CVaR by <span 
class="cmmi-12">&#x03BC; </span>to trade it off with the expected return.
      We saw the <span 
class="cmmi-12">L</span>-shaped method for solving stochastic programming problems in
      class. At iteration <span 
class="cmmi-12">K</span>, a disaggregated Master Problem for problem&#x00A0;(<a 
href="#x1-6r1">1<!--tex4ht:ref: eq.CVaR3 --></a>) has the
      form
      <table 
class="equation"><tr><td><a 
 id="x1-7r2"></a>
      <center class="math-display" >
      <img 
src="hw52x.png" alt="min           cT x  +   &#x2211;S   p t +  &#x03BC;(&#x03B7; +  1&#x2211;   p v )
    x,t,&#x03BC;,v                 s=1 s s          &#x03B1;   s s s
subjectktoT     Axk              =   b   k  s
     (&#x03B6;s) (x - x )  +       ts &#x2265;   Q (x ,&#x03BE; )  for s = 1,...,S, k = 1,2,...,K  - 1
     (&#x03B6;ks)T(x - xk)  +   &#x03B7; + vs &#x2265;   Q (xk,&#x03BE;s)  for s = 1,...,S, k = 1,2,...,K  - 1
                 x             &#x2265;   0
                           v   &#x2265;   0          for s = 1,...,S
                             s
      " class="math-display" ></center></td><td class="equation-label">(2)</td></tr></table>
      <!--l. 107--><p class="nopar" >
      where <span 
class="cmmi-12">Q</span>(<span 
class="cmmi-12">x</span><sup><span 
class="cmmi-8">k</span></sup><span 
class="cmmi-12">,&#x03BE;</span><sup><span 
class="cmmi-8">s</span></sup>) is the optimal value of the second stage problem with first stage decision <span 
class="cmmi-12">x</span><sup><span 
class="cmmi-8">k</span></sup>
      and scenario&#x00A0;<span 
class="cmmi-12">&#x03BE;</span><sup><span 
class="cmmi-8">s</span></sup>, and the subgradient vector <span 
class="cmmi-12">&#x03B6;</span><sub>
<span 
class="cmmi-8">s</span></sub><sup><span 
class="cmmi-8">k</span></sup> has the form
      <center class="math-display" >
      <img 
src="hw53x.png" alt="&#x03B6;ks = T (&#x03BE;s)T&#x03C0;sk
      " class="math-display" ></center>
      <!--l. 113--><p class="nopar" >
           <ol  class="enumerate2" >
                                                                                         
                                                                                         
           <li 
  class="enumerate" id="x1-9x1">Exploit the relationships between <span 
class="cmmi-12">&#x03B7; </span>+ <span 
class="cmmi-12">v</span><sub><span 
class="cmmi-8">s</span></sub>, <span 
class="cmmi-12">Q</span>(<span 
class="cmmi-12">x,&#x03BE;</span><sup><span 
class="cmmi-8">s</span></sup>), and&#x00A0;<span 
class="cmmi-12">t</span><sub>
<span 
class="cmmi-8">s</span></sub> to derive an equivalent
           formulation  with  fewer  constraints.  (Hint:  formulation  (<a 
href="#x1-7r2">2<!--tex4ht:ref: eq.disagg --></a>)  has  2<span 
class="cmmi-12">S</span>(<span 
class="cmmi-12">K </span><span 
class="cmsy-10x-x-120">- </span>1)
           subgradient  inequalities.  Can  you  construct  an  equivalent  formulation  with
           approximately <span 
class="cmmi-12">SK </span>constraints to represent the subgradient information?)
           </li>
           <li 
  class="enumerate" id="x1-11x2">Assume (<span class="bar-css"><span 
class="cmmi-12">x</span></span><span 
class="cmmi-12">,</span><span class="bar-css"><span 
class="cmmi-12">t</span></span><span 
class="cmmi-12">,</span><span class="bar-css"><span 
class="cmmi-12">&#x03BC;</span></span><span 
class="cmmi-12">,</span><span class="bar-css"><span 
class="cmmi-12">v</span></span>) is optimal in&#x00A0;(<a 
href="#x1-7r2">2<!--tex4ht:ref: eq.disagg --></a>). How would you find upper and lower bounds
           on the optimal value of&#x00A0;(<a 
href="#x1-6r1">1<!--tex4ht:ref: eq.CVaR3 --></a>)?</li></ol>
      </li>
      <li 
  class="enumerate" id="x1-13x3"><a 
 id="x1-123"></a> Consider the capacity expansion problem considered in class, but with 30 scenarios. The
      ampl data file is here: <a 
href="http://www.rpi.edu/~mitchj/matp6640/hw5html/cap_exp.dat" class="url" ><span 
class="cmtt-12">http://www.rpi.edu/</span><span 
class="cmtt-12">~</span><span 
class="cmtt-12">mitchj/matp6640/hw5html/cap_exp.dat</span></a>
           <ol  class="enumerate2" >
           <li 
  class="enumerate" id="x1-15x1">Solve the formulation (<a 
href="#x1-6r1">1<!--tex4ht:ref: eq.CVaR3 --></a>) using a direct formulation using ampl, with <span 
class="cmmi-12">&#x03B1; </span>= <span 
class="cmmi-12">&#x03BC; </span>= 0<span 
class="cmmi-12">.</span>1. Hand
           in the optimal value and the optimal first stage decisions. A model file and a data file
           with the data specific to the CVaR formulation are available:
               <ol  class="enumerate3" >
               <li 
  class="enumerate" id="x1-17x1">model                                                                                        file:
               <a 
href="http://www.rpi.edu/~mitchj/matp6640/hw5html/cap_expCVaR.mod" class="url" ><span 
class="cmtt-10x-x-109">http://www.rpi.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">mitchj/matp6640/hw5html/cap_expCVaR.mod</span></a>
               </li>
               <li 
  class="enumerate" id="x1-19x2">data file: <a 
href="http://www.rpi.edu/~mitchj/matp6640/hw5html/cap_expCVaR.dat" class="url" ><span 
class="cmtt-10x-x-109">http://www.rpi.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">mitchj/matp6640/hw5html/cap_expCVaR.dat</span></a></li></ol>
           <!--l. 150--><p class="noindent" >You will need to load in both data files.
           </li>
           <li 
  class="enumerate" id="x1-21x2">Solve the formulation (<a 
href="#x1-6r1">1<!--tex4ht:ref: eq.CVaR3 --></a>) using the L-shaped formulation you derived in
           Question&#x00A0;<a 
href="#x1-42">2<!--tex4ht:ref: q.Lshaped --></a>(b). Hand in the optimal value and the optimal first stage decisions.
           Also hand in something to convince me you did solve the problem using an
           L-shaped method! For example, highlight the changes you made to the model
           and run files, and show some of the output reflecting the progress of the
           algorithm.
           <!--l. 160--><p class="noindent" >Model and run files for minimizing the expectation using ampl are available:
               <ol  class="enumerate3" >
               <li 
  class="enumerate" id="x1-23x1">run                                                                                           file:
               <a 
href="http://www.rpi.edu/~mitchj/matp6640/hw5html/cap_expLshaped.run" class="url" ><span 
class="cmtt-10x-x-109">http://www.rpi.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">mitchj/matp6640/hw5html/cap_expLshaped.run</span></a>
               </li>
               <li 
  class="enumerate" id="x1-25x2">model                                                                                        file:
               <a 
href="http://www.rpi.edu/~mitchj/matp6640/hw5html/cap_expLshaped.mod" class="url" ><span 
class="cmtt-10x-x-109">http://www.rpi.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">mitchj/matp6640/hw5html/cap_expLshaped.mod</span></a></li></ol>
           <!--l. 167--><p class="noindent" >You will need to modify these files to handle the formulation in Question&#x00A0;<a 
href="#x1-42">2<!--tex4ht:ref: q.Lshaped --></a></li></ol>
      </li>
      <li 
  class="enumerate" id="x1-27x4">Consider the LP:
                                                                                         
                                                                                         
      <center class="par-math-display" >
      <img 
src="hw54x.png" alt="min   2x1  +   6x2  +  3x3

s.t.    x1  +    x2  +    x3  =  6
       x1  -   2x2  +  4x3   =  9
                         xi  &#x2265;  0  i = 1,...,3
      " class="par-math-display" ></center>
      <!--l. 340--><p class="nopar" >
      <!--l. 342--><p class="noindent" >Show that <span 
class="cmmi-12">x </span>= (3<span 
class="cmmi-12">, </span>1<span 
class="cmmi-12">, </span>2) is on the central path for this problem.
      </li>
      <li 
  class="enumerate" id="x1-29x5">Pick three problems from the netlib LP test suite, at <a 
href="http://www.netlib.org/lp" class="url" ><span 
class="cmtt-12">http://www.netlib.org/lp</span></a> including
      the problem <span 
class="cmtt-12">boeing1</span>. Solve each problem using both a simplex algorithm and an
      interior point algorithm. Do you get the same primal solution with each algorithm?
      What if you don&#8217;t crossover to get a BFS? (Differences less than 10<sup><span 
class="cmsy-8">-</span><span 
class="cmr-8">8</span></sup> can be
      ignored.)
      <!--l. 370--><p class="noindent" >(Most of the problems are also available in AMPL format and MATLAB format and
      uncompressed MPS format at <a 
href="http://clas.ufl.edu/users/hager/coap/format.html" class="url" ><span 
class="cmtt-12">http://clas.ufl.edu/users/hager/coap/format.html</span></a> with
      an AMPL model file available both at <a 
href="http://clas.ufl.edu/users/hager/coap/m2a" class="url" ><span 
class="cmtt-12">http://clas.ufl.edu/users/hager/coap/m2a</span></a> and
      at <a 
href="http://www.netlib.org/ampl/models/mps.mod" class="url" ><span 
class="cmtt-12">http://www.netlib.org/ampl/models/mps.mod</span></a>
      <!--l. 381--><p class="noindent" >Alternatively, you can run cplex directly, without using ampl, in which case you would read
      in the MPS file. Useful commands in cplex include <span 
class="cmtt-12">read</span>, <span 
class="cmtt-12">optimize</span>, and <span 
class="cmtt-12">display</span>. You can
      choose the solver in cplex by issuing the command <span 
class="cmtt-12">set lpmethod </span>at the prompt. You can
      change options in the barrier solver (including the use of crossover) with the command <span 
class="cmtt-12">set</span>
      <span 
class="cmtt-12">barrier</span>. You can use these options in ampl with the syntax <span 
class="cmtt-12">option cplex</span><span 
class="cmtt-12">_options</span>
      <span 
class="cmtt-12">&#8217;...&#8217;;</span>)
      <!--l. 391--><p class="noindent" >Hand in the primal solution for each problem, and discuss whether the three solutions differ
      for each of the models you chose. If the solutions have too many variables it is fine to select a
      few variables to display.
      </li>
      <li 
  class="enumerate" id="x1-31x6"><span 
class="cmbx-12">Hand in a progress report </span>of your work to date on the course project.
      </li></ol>
   <div class="tabular"> <table id="TBL-1" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-1-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;         <a 
href="http://www.rpi.edu/~mitchj" >John Mitchell</a>                                                                                                         </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-2-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; Amos Eaton 325</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-3-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;         x6915.                                                                                                                    </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-4-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0; <a 
href="mailto:mitchj@rpi.edu" >mitchj at rpi dot edu</a></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-5-1"  
class="td01">&#x00A0;&#x00A0;&#x00A0;         Office hours: Thursday 11am&#8211;1pm., on webex <a 
href="https://rensselaer.webex.com/meet/mitchj" class="url" ><span 
class="cmtt-12">https://rensselaer.webex.com/meet/mitchj</span></a></td> </tr></table>
</div>
    
</body></html> 

                                                                                         


